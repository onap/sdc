tosca_definitions_version: tosca_simple_profile_for_ecomp_1_0

description: vMMSC VF Topology Template

metadata:
  invariantUUID: dd4f3d68-1223-4a97-127c-11ab729d4da2 # generated by ASDC
  UUID: 2a14db52-5116-d3af-1240-1236221cab8d # generated by ASDC
  name: CMAUI VF
  description: CMAUI MMSC VF
  type: VF
  category: Mobility
  subCategory: MMSC
  vendor: Nokia
  vendorVersion: 5.0.2.5.37

  
 # reference to template definitions
imports:
  - tosca_simple_profile_for_ecomp_1_0.yml
  
topology_template:
  
   # This section provides the parameters which OPENECOMP is not providing values to during instantiation.
   # It is expected that node template parameters which are not mapped to the Inputs section recieve value from OPENECOMP
   # during the orchestration

  inputes: 
    
  node_templates:

    vCMAUI: # vMMSC VFC
      type: org.openecomp.resource.vfc.Generic

      metadata:
        invariantUUID: 0a258d08-2223-4a97-127c-11ab729d2bc3
        UUID: 7214db52-1216-3aaf-1240-a236221ca404
        version: 1.0
        name: vMMC VFC
        description:
        type: VFC
        category: Generic
        subCategory: Generic_VFC
        vendor: Nokia
        vendorVersion: 6.0.2.14

      properties:
        vfc_ecomp_name: true
        vfc_instance_name: # to be set by OPENECOMP during instantiation
        vfc_type_tag:  # from HEAT ENV
        vfc_description: vCMAUI VFC
        vfc_image_name: cmaui-5.0.2.5_v37.qcow2 # from HEAT / HEAT ENV
        vfc_availability_zone: 


      capabilities:
        nfv_compute:
          properties:
            vfc_flavor: cmaui_flavor # from HEAT ENV
        scaling:
          properties:
            min_instances: 2
            max_instances: 2

    cmaui_oam:
      type: org.openecomp.cp.OAM
      
      metadata:
        invariantUUID: 553f8d08-2223-4a97-127c-11ab729d1234 # generated by ASDC
        UUID: ab14db52-2116-a3af-1240-a236221ca82a # generated by ASDC
        version: 1.0 # set by ASDC
        name: OAM CP
        description: OAM CP
        type: CP
        category: CP
        vendor: AT&T
      
      properties:
        address_Info:
          ip_address:  # provided by OPENECOMP (SDNC)
      


  policies:
     # Placement policy
    - mmsc_anti_affinity_placement_policy:
      type: org.openecomp.policy.Placement

      properties:
        conatiner_type: compute
        policy: anti_affinity

      target: [ vMMSC ]
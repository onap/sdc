{
  "comments": [
    {
      "key": {
        "uuid": "915f2749_72a24986",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4707,
      "author": {
        "id": 5562
      },
      "writtenOn": "2020-05-05T18:04:41Z",
      "side": 1,
      "message": "1. getComponentByUuid return null, componentOpt is empty",
      "range": {
        "startLine": 4707,
        "startChar": 0,
        "endLine": 4707,
        "endChar": 113
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9806c0f4_f69466de",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4709,
      "author": {
        "id": 5562
      },
      "writtenOn": "2020-05-05T18:04:41Z",
      "side": 1,
      "message": "2. componentInstanceOpt is empty",
      "range": {
        "startLine": 4709,
        "startChar": 0,
        "endLine": 4709,
        "endChar": 93
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38ba6b91_25ea77a2",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4726,
      "author": {
        "id": 5562
      },
      "writtenOn": "2020-05-05T18:04:41Z",
      "side": 1,
      "message": "3. componentOpt is empty",
      "range": {
        "startLine": 4726,
        "startChar": 28,
        "endLine": 4726,
        "endChar": 40
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7c8d5a4_d17ed721",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4728,
      "author": {
        "id": 5562
      },
      "writtenOn": "2020-05-05T18:04:41Z",
      "side": 1,
      "message": "4. return false\n5. skip print LOG",
      "range": {
        "startLine": 4728,
        "startChar": 12,
        "endLine": 4728,
        "endChar": 43
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7fe01ae_59621f74",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4728,
      "author": {
        "id": 6597
      },
      "writtenOn": "2020-05-05T18:27:21Z",
      "side": 1,
      "message": "This is indeed correct: this case would be handled in the \u0027else\u0027 branch.",
      "parentUuid": "e7c8d5a4_d17ed721",
      "range": {
        "startLine": 4728,
        "startChar": 12,
        "endLine": 4728,
        "endChar": 43
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a5a9d4d_e25bb851",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4731,
      "author": {
        "id": 5562
      },
      "writtenOn": "2020-05-05T17:12:59Z",
      "side": 1,
      "message": "is this only my impression, this LOG prints on different from original condition?\n\nin original:\nif component\u003dgetComponentByUuid(componentType, componentUuid) is null, componentInstance\u003d\u003dnull, print LOG\n\nin new code:\nif getComponentByUuid(componentType, componentUuid) return null, componentOpt is empty, LOG prints if isPresent()\n\nAm I missing something?",
      "range": {
        "startLine": 4731,
        "startChar": 16,
        "endLine": 4731,
        "endChar": 99
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "788d8326_baee6ec2",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4731,
      "author": {
        "id": 6597
      },
      "writtenOn": "2020-05-05T17:38:18Z",
      "side": 1,
      "message": "Not sure I understand your comment: there is no \u0027componentInstance\u0027 any more since it is replaced by \u0027componentInstanceOpt\u0027.\nIf \u0027componentInstanceOpt\u0027 is empty (equivalent to \u0027null\u0027), we print the message.\nHowever, since \u0027componentOpt\u0027 could also be empty, we test this first before we trigger a NPE by calling \u0027component.getName()\u0027.",
      "parentUuid": "8a5a9d4d_e25bb851",
      "range": {
        "startLine": 4731,
        "startChar": 16,
        "endLine": 4731,
        "endChar": 99
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8c97ef5_3a78a646",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4731,
      "author": {
        "id": 6614
      },
      "writtenOn": "2020-05-05T19:01:22Z",
      "side": 1,
      "message": "Hi @Vasyl, \n\nWe\u0027ve checked out the code and overall we have three different cases.\n\nFirst case, `componentOpt` is not empty, but `componentInstanceOpt` happens to be empty (because component.getComponentInstances() returns an empty stream (line 4714)). In this case, the log is printed as expected.\n\nSecond case, both `componentOpt` and `componentInstanceOpt` are not empty. In this case, `generateByActionStatusComponentException` is never called and the value is returned as expected (line 4718).\n\nLast case, `componentOpt` is empty, and therefore `componentInstanceOpt` is empty too (This case is actually not covered by the previous code). Line 4736 is then executed, a `ByActionStatusComponentException` is returned but the error message is different (By the way, if you have any suggestion regarding the message or the action status, please tell us).\n\nThe logic of this code is not easy to get to be honest and a proper refactoring would be required. However, I would suggest to do this in another change. If you have not done it yet, I highly suggest you to check out the code to get a better understanding of this function.\n\nDoes this answer your questions?",
      "parentUuid": "788d8326_baee6ec2",
      "range": {
        "startLine": 4731,
        "startChar": 16,
        "endLine": 4731,
        "endChar": 99
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a55855d_ccfdf989",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4731,
      "author": {
        "id": 5562
      },
      "writtenOn": "2020-05-05T19:39:14Z",
      "side": 1,
      "message": "Hi @Francis,\n\nI was talking about \"Last case, `componentOpt` is empty, and therefore `componentInstanceOpt` is empty too\".\nOk, I see your point, you print different message, by going to ELSE.",
      "parentUuid": "b8c97ef5_3a78a646",
      "range": {
        "startLine": 4731,
        "startChar": 16,
        "endLine": 4731,
        "endChar": 99
      },
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac592be8_2e27a6d4",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4737,
      "author": {
        "id": 6152
      },
      "writtenOn": "2020-05-05T15:36:42Z",
      "side": 1,
      "message": "looks better :)\nanother thing - More specific ActionStatus could fit better here.",
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01d0872c_54f0312a",
        "filename": "catalog-be/src/main/java/org/openecomp/sdc/be/components/impl/ArtifactsBusinessLogic.java",
        "patchSetId": 3
      },
      "lineNbr": 4737,
      "author": {
        "id": 6597
      },
      "writtenOn": "2020-05-05T15:58:40Z",
      "side": 1,
      "message": "Since I\u0027m still new to the project, I would be more than happy to change it to a more specific value if you tell me which one to use!",
      "parentUuid": "ac592be8_2e27a6d4",
      "revId": "f96d185fd5cdd1beafcbb5bbccbd88852e0e19bc",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}
tosca_definitions_version: tosca_simple_yaml_1_0_0
metadata:
  template_name: Main
imports:
- openecomp_heat_index:
    file: openecomp-heat/_index.yml
- GlobalSubstitutionTypes:
    file: GlobalSubstitutionTypesServiceTemplate.yaml
topology_template:
  inputs:
    vson_app_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-app-flavor
    vson_dbg_volume_id_0:
      label: vSON DBG Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the vSON DBG server.
    vson_dbs_server_group_id:
      label: vSON DBS server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON DBS instances.  \n"
    vson_mon_volume_name_0:
      label: vSON MON volume name
      hidden: false
      immutable: false
      type: string
      description: Volume name.
      default: vson_mon_volume_0
    vson_dbs_volume_name_0:
      label: vSON DBS volume name 0
      hidden: false
      immutable: false
      type: string
      description: First volume name.
    vson_dbs_volume_size_1:
      label: vSON DBS volume ID 1 size
      hidden: false
      immutable: false
      type: float
      description: Size of the second Cinder volume. Measured in gigabytes.
      default: 500
    vson_mdr_volume_id_0:
      label: vSON Mediator Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the vSON Mediator server.
    vson_mgt_volume_name_0:
      label: vSON MGT volume name
      hidden: false
      immutable: false
      type: string
      description: Volume name.
      default: vson_mgt_volume_0
    vson_dbs_volume_name_1:
      label: vSON DBS volume name 1
      hidden: false
      immutable: false
      type: string
      description: Second volume name.
    vson_dbs_volume_size_0:
      label: vSON DBS volume ID 0 size
      hidden: false
      immutable: false
      type: float
      description: Size of the first Cinder volume. Measured in gigabytes.
      default: 500
    vson_mon_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
    vson_mon_volume_size_0:
      label: vSON MON cinder volume size
      hidden: false
      immutable: false
      type: float
      description: Size of the Cinder volume. Measured in gigabytes.
      default: 100
    vson_mon_image_name:
      label: vSON MON VM image name
      hidden: false
      immutable: false
      type: string
      description: Image name the volume will be created from.
      default: VSON-BASE-1.0
    oam_net_subnet_prefix_length:
      label: OAM net subnet prefix length
      hidden: false
      immutable: false
      type: string
      description: OAM network subnet prefix length.
    swift_storage_url:
      label: swift storage URL
      hidden: false
      immutable: false
      type: string
      description: |
        Swift storage URL. Example: http://172.16.209.246:8080/v1/AUTH_a4d426b5ef2e41408a8e6e6b9a8d3029 http://172.16.209.246:8080 - protocol, IP and port, v1 - API version AUTH_a4d426b5ef2e41408a8e6e6b9a8d3029 - account ID
    vson_dcl_image_name:
      label: vSON base VM image name
      hidden: false
      immutable: false
      type: string
      description: VM Image name the vSON DC leader instance will be created from.
    vson_app_oam_net_v6_ip_0:
      label: vSON APP OAM network IPv6 address
      hidden: false
      immutable: false
      type: string
      description: Fixed IPv6 assignment for the vSON APP instance on the OAM network.
    dns_servers:
      label: DNS servers
      hidden: false
      immutable: false
      type: list
      description: List of DNS servers.
      entry_schema:
        type: string
    vson_app_volume_size_0:
      label: vSON APP cinder volume size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the Cinder volume. Measured in gigabytes.
      default: 200
    oam_net_security_group_id:
      label: OAM network security group ID
      hidden: false
      immutable: false
      type: string
      description: |
        The ID of Security group applied on the port bound to the vSON OAM network.
    vson_mgt_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-mgt-flavor
    vson_mgt_volume_size_0:
      label: vSON MGT cinder volume size
      hidden: false
      immutable: false
      type: float
      description: Size of the Cinder volume. Measured in gigabytes.
      default: 100
    vson_dbs_volume_id_0:
      label: vSON DBS Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the first vSON DBS server.
    vson_dbc_volume_id_0:
      label: vSON DBC Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the vSON DBC server.
    vson_dbs_volume_id_1:
      label: vSON DBS Volume ID 1
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the second vSON DBS server.
    vson_dbc_image_name:
      label: vSON base VM image name
      hidden: false
      immutable: false
      type: string
      description: VM Image name the vSON DBC instance will be created from.
      default: VSON-BASE-1.0
    vson_mgt_image_name:
      label: vSON Management VM image name
      hidden: false
      immutable: false
      type: string
      description: Image name the volume will be created from.
      default: VSON-BASE-1.0
    default_gateway_v6:
      label: Default IPv6 gateway
      hidden: false
      immutable: false
      type: string
      description: Default IPv6 gateway.
    vson_mgt_server_group_id:
      label: vSON Management server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON Management instances.  \n"
    vson_clm_name_0:
      label: vSON Cluster Manager instance name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON Cluster Manager instance.
    vson_dbc_server_group_policy:
      label: vSON Database server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Database instances.
      default: anti-affinity
    vson_clm_server_group_policy:
      label: vSON Cluster Management server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Cluster Management instances.
      default: anti-affinity
    vson_mon_server_group_policy:
      label: vSON MON server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON MON instances.
      default: anti-affinity
    vson_dbg_server_group_id:
      label: vSON DBS server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON DBS instances.  \n"
    vson_leader_server_group_policy:
      label: vSON Cluster/DC leader server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Cluster/DC leader instances.
      default: anti-affinity
    vson_dcl_oam_net_ip_0:
      label: vSON DC leader OAM network IP address 0
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the first vSON DC leader instance on the OAM network.
    vson_cll_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
    vson_app_server_group_policy:
      label: vSON Application server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Application instances.
      default: anti-affinity
    vson_dcl_oam_net_ip_1:
      label: vSON DC leader OAM network IP address 1
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the second vSON DC leader instance on the OAM network.
    vson_dcl_oam_net_ip_2:
      label: vSON DC leader OAM network IP address 2
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the third vSON DC leader instance on the OAM network.
    vson_dbg_volume_size_0:
      label: vSON DBG cinder volume size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the Cinder volume. Measured in gigabytes.
      default: 200
    vson_cll_oam_net_ip_0:
      label: vSON Cluster leader OAM network IP address 0
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the first vSON Cluster leader instance on the OAM network.
    vson_app_oam_net_ip_0:
      label: vSON APP OAM network IPv4 address
      hidden: false
      immutable: false
      type: string
      description: Fixed IPv4 assignment for the vSON APP instance on the OAM network.
    vson_cll_oam_net_ip_2:
      label: vSON Cluster leader OAM network IP address 2
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the third vSON Cluster leader instance on the OAM network.
    vson_cll_oam_net_ip_1:
      label: vSON Cluster leader OAM network IP address 1
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the second vSON Cluster leader instance on the OAM network.
    vson_clm_oam_net_ip_0:
      label: vSON CLM OAM network IP address
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the vSON CLM instance on the OAM network.
      default: 172.20.50.3
    vf_module_id:
      label: VF module ID
      hidden: false
      immutable: false
      type: string
      description: Unique ID for this VF Module instance.
    vson_dbc_oam_net_ip_0:
      label: vSON DBC OAM network IP address
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the vSON DBC instance on the OAM network.
    vson_dbg_oam_net_ip_0:
      label: vSON DBG OAM network IP address
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the vSON DBG instance on the OAM network.
    vnf_name:
      label: VF name
      hidden: false
      immutable: false
      type: string
      description: Unique name for this VF instance.
    number_of_servers:
      label: Number of Servers
      hidden: false
      immutable: false
      type: float
      description: Number of vSON Management servers.
      constraints:
      - in_range:
        - 1
        - 1
    vson_mgt_name_0:
      label: vSON Management instance name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON Management instance.
      default: vson-03.cisco.com
    vf_module_name:
      label: VF module name
      hidden: false
      immutable: false
      type: string
      description: Unique name for this VF module instance.
      default: module_0_vson_mgt_volume
    vson_clm_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-clm-flavor
    vson_mdr_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-mdr-flavor
    vson_mon_volume_id_0:
      label: vSON MON Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the vSON MON server.
    availability_zone_0:
      label: Availability zone 0
      hidden: false
      immutable: false
      type: string
      description: Availability zone.
    availability_zone_1:
      label: Availability zone 1
      hidden: false
      immutable: false
      type: string
      description: Second availability zone.
    vson_dbc_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-dbc-flavor
    vson_dbc_volume_name_0:
      label: vSON DBC volume name
      hidden: false
      immutable: false
      type: string
      description: Volume name.
    vson_mdr_image_name:
      label: vSON Mediator VM image name
      hidden: false
      immutable: false
      type: string
      description: Image name the volume will be created from.
    vson_cll_name_0:
      label: First vSON Cluster leader name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the first vSON Cluster leader.
    vson_cll_image_name:
      label: vSON base VM image name
      hidden: false
      immutable: false
      type: string
      description: VM Image name the vSON Cluster leader instance will be created from.
    vson_cll_name_2:
      label: Third vSON Cluster leader name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the third vSON Cluster leader.
    vson_dbg_name_0:
      label: vSON DBG name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON DBG server.
    vson_cll_name_1:
      label: Second vSON Cluster leader name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the second vSON Cluster leader.
    vson_dbs_server_group_policy:
      label: vSON Database server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON DB Shard instances.
      default: anti-affinity
    vson_join_cluster_auth_token:
      label: vSON join cluster auth token
      hidden: false
      immutable: false
      type: string
      description: "Authentication Token generated for the user permitted to add \
        \ a new vSON Datacenter. \n"
    vson_dcl_name_0:
      label: First vSON DC leader name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the first vSON DC leader.
    vson_dcl_name_1:
      label: Second vSON DC leader name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the second vSON DC leader.
    vson_clm_0_oam_net_ip_0:
      label: vSON Cluster Manager 0 OAM net IP
      hidden: false
      immutable: false
      type: string
      description: IP of the first vSON Cluster Management server.
    vson_dcl_name_2:
      label: Third vSON DC leader name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the third vSON DC leader.
    oam_net_id:
      label: OAM network ID
      hidden: false
      immutable: false
      type: string
      description: The ID of the OAM network.
    vson_mon_oam_net_ip_0:
      label: vSON MON OAM network IP address
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the vSON MON instance on the OAM network.
    vson_dbg_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-dbg-flavor
    vson_clm_image_name:
      label: vSON Cluster Manager VM image name
      hidden: false
      immutable: false
      type: string
      description: Image name the volume will be created from.
      default: VSON-BASE-1.0
    vson_dbc_name_0:
      label: vSON DBC name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON DBC server.
    vson_dbs_oam_net_ip_1:
      label: vSON DBS OAM network IP address 1
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the second vSON DBS instance on the OAM network.
    vson_dbg_image_name:
      label: vSON base VM image name
      hidden: false
      immutable: false
      type: string
      description: VM Image name the vSON DBG instance will be created from.
      default: VSON-BASE-1.0
    vson_mgt_oam_net_ip_0:
      label: vSON MGT OAM network IP address
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the vSON MGT instance on the OAM network.
    vson_dbs_oam_net_ip_0:
      label: vSON DBS OAM network IP address 0
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the first vSON DBS instance on the OAM network.
    vson_cluster_name:
      label: vSON Cluster name
      hidden: false
      immutable: false
      type: string
      description: Name of the vSON Cluster.
      constraints:
      - max_length: 13
      - min_length: 1
    vson_dcl_volume_size_1:
      label: Cinder volume ID 1 size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the second Cinder volume. Measured in gigabytes.
      default: 200
    vson_dcl_volume_size_0:
      label: Cinder volume ID 0 size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the first Cinder volume. Measured in gigabytes.
      default: 200
    vson_dcl_volume_size_2:
      label: Cinder volume ID 2 size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the third Cinder volume. Measured in gigabytes.
      default: 200
    vson_dbs_name_0:
      label: First vSON DBS name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the first vSON DBS server.
    vson_dbs_name_1:
      label: Second vSON DBS name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the second vSON DBS server.
    vson_mdr_server_group_id:
      label: vSON Mediator server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON Mediator instances.  \n"
    vson_dbc_server_group_id:
      label: vSON DBS server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON DBS instances.  \n"
    vson_dbs_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
      default: vson-dbs-flavor
    vson_mdr_server_group_policy:
      label: vSON Mediator server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Mediator instances.
      default: anti-affinity
    vson_dbc_volume_size_0:
      label: vSON DBC cinder volume size
      hidden: false
      immutable: false
      type: float
      description: Size of the Cinder volume. Measured in gigabytes.
      default: 50
    vson_app_name_0:
      label: vSON APP instance name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON APP instance.
      default: vson-13.cisco.com
    swift_account_auth_token:
      label: Swift account auth token
      hidden: false
      immutable: false
      type: string
      description: |
        Swift account auth token. Example:  041a5187bb4641f9b89583e2539776b0
    vson_mdr_oam_net_ip_0:
      label: vSON MDR OAM network IP address
      hidden: false
      immutable: false
      type: string
      description: Fixed IP assignment for the vSON MDR instance on the OAM network.
    vson_leader_server_group_id:
      label: vSON Cluster leader server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Cluster leaders.
    vson_clm_server_group_id:
      label: vSON Cluster Manager server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON Cluster Manager instances.  \n"
    vson_app_server_group_id:
      label: vSON APP server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON APP instances.
    vson_master_clm_ip:
      label: vSON master CLM IP
      hidden: false
      immutable: false
      type: string
      description: "Master CLM IP. If the vSON Cluster belongs to a single OpenStack\
        \ tenant, the value SHOULD BE EMPTY.  In case the vSON Cluster is distributed\
        \ between multiple tenants:\n  -> vSON Cluster instantiation - the value should\
        \ be empty \n  -> Adding a new DC to existing vSON Cluster - IP of the CLM\
        \ deployed during \n     vSON Cluster instantiation, should be set as the\
        \ value. \n"
    vson_dcl_volume_id_2:
      label: vSON DC Leader Volume ID 2
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the third vSON DC leader.
    vson_mgt_server_group_policy:
      label: vSON Management server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON Management instances.
      default: anti-affinity
    vson_dcl_volume_id_1:
      label: vSON DC Leader Volume ID 1
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the second vSON DC leader.
    vson_dcl_volume_id_0:
      label: vSON DC Leader Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the first vSON DC leader.
    vson_dbs_image_name:
      label: vSON base VM image name
      hidden: false
      immutable: false
      type: string
      description: VM Image name the vSON DBS instance will be created from.
      default: VSON-BASE-1.0
    vson_mon_server_group_id:
      label: vSON MON server group policy
      hidden: false
      immutable: false
      type: string
      description: "Tells what policy should be applied to the ServerGroup. Affinity\
        \ policy will force instances to share the same hypervisor. Anti-affinity\
        \ will force instances to run in different hypervisors. The group intended\
        \ for vSON MON instances.  \n"
    vson_mdr_volume_size_0:
      label: vSON MDR cinder volume size
      hidden: false
      immutable: false
      type: float
      description: Size of the Cinder volume. Measured in gigabytes.
      default: 50
    default_gateway:
      label: Default gateway
      hidden: false
      immutable: false
      type: string
      description: Default gateway.
    vson_mgt_volume_id_0:
      label: vSON Management Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the vSON Management server.
    vson_dbg_server_group_policy:
      label: vSON Database server group policy
      hidden: false
      immutable: false
      type: string
      description: |
        Tells what policy should be applied to the ServerGroup. Affinity policy will force instances to share the same hypervisor. Anti-affinity will force instances to run in different hypervisors. The group intended for vSON DB Global instances.
      default: anti-affinity
    vson_mdr_volume_name_0:
      label: vSON MGT volume name
      hidden: false
      immutable: false
      type: string
      description: Volume name.
      default: vson_mdr_volume_0
    vson_dbg_volume_name_0:
      label: vSON DBG volume name
      hidden: false
      immutable: false
      type: string
      description: Volume name.
    vson_app_image_name:
      label: vSON base VM image name
      hidden: false
      immutable: false
      type: string
      description: VM Image name the vSON APP instance will be created from.
      default: VSON-BASE-1.0
    vson_app_volume_id_0:
      label: vSON APP Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the vSON APP server.
    vnf_id:
      label: VF ID
      hidden: false
      immutable: false
      type: string
      description: Unique ID for this VF instance.
    vson_dc_unit:
      label: vSON Datacenter name
      hidden: false
      immutable: false
      type: string
      description: vSON Datacenter name.
    swift_son_container_name:
      label: SON Swift
      hidden: false
      immutable: false
      type: string
      description: Swift container storing vSON artifacts.
      default: vson
    oam_net_subnet_v6_prefix_length:
      label: OAM net IPv6 subnet prefix length
      hidden: false
      immutable: false
      type: string
      description: OAM network IPv6 subnet prefix length.
    vson_cll_volume_id_0:
      label: vSON Cluster Leader Volume ID 0
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the first vSON Cluster leader.
    ntp_servers:
      label: NTP servers
      hidden: false
      immutable: false
      type: list
      description: List of NTP servers.
      entry_schema:
        type: string
    vson_cll_volume_id_1:
      label: vSON Cluster Leader Volume ID 1
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the second vSON Cluster leader.
    vson_cll_volume_id_2:
      label: vSON Cluster Leader Volume ID 2
      hidden: false
      immutable: false
      type: string
      description: Volume ID of the third vSON Cluster leader.
    vson_cll_volume_size_2:
      label: Cinder volume ID 2 size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the third Cinder volume. Measured in gigabytes.
    vson_cll_volume_size_1:
      label: Cinder volume ID 1 size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the second Cinder volume. Measured in gigabytes.
    vson_cll_volume_size_0:
      label: Cinder volume ID 0 size
      hidden: false
      immutable: false
      type: float
      description: |
        Size of the first Cinder volume. Measured in gigabytes.
    vson_dcl_flavor_name:
      label: Flavor name
      hidden: false
      immutable: false
      type: string
      description: The ID or name of the flavor to boot onto.
    vson_app_volume_name_0:
      label: vSON APP volume name
      hidden: false
      immutable: false
      type: string
      description: Volume name.
    vson_mon_name_0:
      label: vSON MON instance name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON MON instance.
    vson_mdr_name_0:
      label: vSON Mediator instance name
      hidden: false
      immutable: false
      type: string
      description: Unique name to be issued to the vSON Mediator instance.
  node_templates:
    vson_dbc_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dbc_volume_size_0) * 1024'
        name:
          get_input: vson_dbc_volume_name_0
        description: vSON DB Config cinder volume.
    vson_mdr_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        image:
          get_input: vson_mdr_image_name
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_mdr_volume_size_0) * 1024'
        name:
          get_input: vson_mdr_volume_name_0
        description: |
          vSON MDR cinder volume. The volume is created from the vSON base VM image.
    vson_mgt_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        image:
          get_input: vson_mgt_image_name
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_mgt_volume_size_0) * 1024'
        name:
          get_input: vson_mgt_volume_name_0
        description: |
          vSON MGT cinder volume. The volume is created from the vSON base VM image.
    vson_mon_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        image:
          get_input: vson_mon_image_name
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_mon_volume_size_0) * 1024'
        name:
          get_input: vson_mon_volume_name_0
        description: |
          vSON MON cinder volume. The volume is created from the vSON base VM image.
    vson_cll_volume_2:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_cll_volume_size_2) * 1024'
        name:
          str_replace:
            template: VNF_NAME_cll_volume_2
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Cinder volume for the third vSON Cluster leader.
    vson_cll_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_cll_volume_size_0) * 1024'
        name:
          str_replace:
            template: VNF_NAME_cll_volume_0
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Cinder volume for the first vSON Cluster leader.
    vson_cll_volume_1:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_1
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_cll_volume_size_1) * 1024'
        name:
          str_replace:
            template: VNF_NAME_cll_volume_1
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Cinder volume for the second vSON Cluster leader.
    vson_clm_0:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_4
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        vson_cluster_name:
          get_input: vson_cluster_name
        default_gateway:
          get_input: default_gateway
        instance_index: 0
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        swift_storage_url:
          get_input: swift_storage_url
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id: oam_net_security_group
        service_template_filter:
          substitute_service_template: nested_vson_serverServiceTemplate.yaml
        vson_vm_image_name:
          get_input: vson_clm_image_name
        vnf_id:
          get_input: vnf_id
        port_vson_server_oam_net_port_20_network_role_tag: oam
        vson_clm_oam_net_ip:
          get_input: vson_master_clm_ip
        oam_net_ips:
        - get_input: vson_clm_oam_net_ip_0
        swift_son_container_name:
          get_input: swift_son_container_name
        vfc_role: clm
        swift_account_auth_token:
          get_input: swift_account_auth_token
        vson_server_group_id: UNSUPPORTED_RESOURCE_vson_clm_server_group
        vson_vm_flavor_name:
          get_input: vson_clm_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        ntp_servers:
          get_input: ntp_servers
        port_vson_server_oam_net_port_20_mac_requirements:
          mac_count_required:
            is_required: false
        port_vson_server_oam_net_port_20_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_clm_name_0
      requirements:
      - dependency_vson_server_1:
          capability: tosca.capabilities.Node
          node: oam_net_security_group
          relationship: tosca.relationships.DependsOn
    vson_mgt_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_2
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_from_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_mgt_oam_net_ip_0
        vfc_role: mgt
        swift_account_auth_token:
          get_input: swift_account_auth_token
        vson_server_group_id:
          get_input: vson_mgt_server_group_id
        vson_vm_flavor_name:
          get_input: vson_mgt_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_mgt_volume_id_0
        port_vson_server_oam_net_port_10_network_role_tag: oam
        ntp_servers:
          get_input: ntp_servers
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_mgt_name_0
        port_vson_server_oam_net_port_10_mac_requirements:
          mac_count_required:
            is_required: false
        port_vson_server_oam_net_port_10_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
    vson_dbs_volume_1:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_1
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dbs_volume_size_1) * 1024'
        name:
          get_input: vson_dbs_volume_name_1
        description: Cinder volume for the second vSON DBS VM instance.
    vson_dbc_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_1
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        port_vson_server_oam_net_port_00_network_role_tag: oam
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        port_vson_server_oam_net_port_00_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_with_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_dbc_image_name
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_dbc_oam_net_ip_0
        vfc_role: dbc
        swift_account_auth_token:
          get_input: swift_account_auth_token
        port_vson_server_oam_net_port_00_mac_requirements:
          mac_count_required:
            is_required: false
        vson_server_group_id:
          get_input: vson_dbc_server_group_id
        vson_vm_flavor_name:
          get_input: vson_dbc_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_dbc_volume_id_0
        ntp_servers:
          get_input: ntp_servers
        vson_join_cluster_auth_token:
          get_input: vson_join_cluster_auth_token
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_dbc_name_0
    vson_dbs_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dbs_volume_size_0) * 1024'
        name:
          get_input: vson_dbs_volume_name_0
        description: Cinder volume for the first vSON DBS VM instance.
    vson_clm_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_4
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        vson_cluster_name: ''
        default_gateway:
          get_input: default_gateway
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        swift_storage_url: ''
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_serverServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_clm_image_name
        vnf_id:
          get_input: vnf_id
        port_vson_server_oam_net_port_20_network_role_tag: oam
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        oam_net_ips:
        - get_input: vson_clm_oam_net_ip_0
        swift_son_container_name: ''
        vfc_role: clm
        swift_account_auth_token:
          get_input: swift_account_auth_token
        vson_server_group_id:
          get_input: vson_clm_server_group_id
        vson_vm_flavor_name:
          get_input: vson_clm_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        ntp_servers:
          get_input: ntp_servers
        port_vson_server_oam_net_port_20_mac_requirements:
          mac_count_required:
            is_required: false
        port_vson_server_oam_net_port_20_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_clm_name_0
    vson_dcl_volume_2:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dcl_volume_size_2) * 1024'
        name:
          str_replace:
            template: VNF_NAME_dcl_volume_2
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Cinder volume for the third vSON DC leader.
    vson_dcl_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dcl_volume_size_0) * 1024'
        name:
          str_replace:
            template: VNF_NAME_dcl_volume_0
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Cinder volume for the first vSON DC leader.
    vson_dcl_volume_1:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_1
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dcl_volume_size_1) * 1024'
        name:
          str_replace:
            template: VNF_NAME_dcl_volume_1
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Cinder volume for the second vSON DC leader.
    vson_mdr_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_2
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_from_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_mdr_oam_net_ip_0
        vfc_role: mdr
        swift_account_auth_token:
          get_input: swift_account_auth_token
        vson_server_group_id:
          get_input: vson_mdr_server_group_id
        vson_vm_flavor_name:
          get_input: vson_mdr_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_mdr_volume_id_0
        port_vson_server_oam_net_port_10_network_role_tag: oam
        ntp_servers:
          get_input: ntp_servers
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_mdr_name_0
        port_vson_server_oam_net_port_10_mac_requirements:
          mac_count_required:
            is_required: false
        port_vson_server_oam_net_port_10_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
    vson_dbs_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_1
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        port_vson_server_oam_net_port_00_network_role_tag: oam
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        port_vson_server_oam_net_port_00_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_with_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_dbs_image_name
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_dbs_oam_net_ip_0
        - get_input: vson_dbs_oam_net_ip_1
        vfc_role: dbs
        swift_account_auth_token:
          get_input: swift_account_auth_token
        port_vson_server_oam_net_port_00_mac_requirements:
          mac_count_required:
            is_required: false
        vson_server_group_id:
          get_input: vson_dbs_server_group_id
        vson_vm_flavor_name:
          get_input: vson_dbs_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        - get_input: availability_zone_1
        volume_ids:
        - get_input: vson_dbs_volume_id_0
        - get_input: vson_dbs_volume_id_1
        ntp_servers:
          get_input: ntp_servers
        vson_join_cluster_auth_token:
          get_input: vson_join_cluster_auth_token
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_dbs_name_0
        - get_input: vson_dbs_name_1
    vson_app_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        port_vson_server_oam_net_port_0_ip_requirements:
        - ip_version: 6
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_with_vol_dual_ip_stackServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_app_image_name
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        port_vson_server_oam_net_port_0_mac_requirements:
          mac_count_required:
            is_required: false
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_app_oam_net_ip_0
        oam_net_subnet_v6_prefix_length:
          get_input: oam_net_subnet_v6_prefix_length
        vfc_role: app
        swift_account_auth_token:
          get_input: swift_account_auth_token
        default_gateway_v6:
          get_input: default_gateway_v6
        vson_server_group_id:
          get_input: vson_app_server_group_id
        vson_vm_flavor_name:
          get_input: vson_app_flavor_name
        port_vson_server_oam_net_port_0_network_role_tag: oam
        availability_zones:
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_app_volume_id_0
        oam_net_v6_ips:
        - get_input: vson_app_oam_net_v6_ip_0
        ntp_servers:
          get_input: ntp_servers
        vson_join_cluster_auth_token:
          get_input: vson_join_cluster_auth_token
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_app_name_0
    oam_net_security_group:
      type: org.openecomp.resource.vfc.rules.nodes.heat.network.neutron.SecurityRules
      properties:
        name:
          str_replace:
            template: VNF_NAME_oam_sec_group
            params:
              VNF_NAME:
                get_input: vnf_name
        description: Security Group for instances connected to the OAM network.
        rules:
        - protocol: tcp
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          port_range_max: 65535
          direction: egress
          port_range_min: 1
        - protocol: udp
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          port_range_max: 65535
          direction: egress
          port_range_min: 1
        - protocol: '47'
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          port_range_max: 65535
          direction: egress
          port_range_min: 1
        - protocol: icmp
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          direction: egress
        - protocol: tcp
          ethertype: IPv6
          remote_ip_prefix: ::/0
          port_range_max: 65535
          direction: egress
          port_range_min: 1
        - protocol: udp
          ethertype: IPv6
          remote_ip_prefix: ::/0
          port_range_max: 65535
          direction: egress
          port_range_min: 1
        - protocol: '47'
          ethertype: IPv6
          remote_ip_prefix: ::/0
          port_range_max: 65535
          direction: egress
          port_range_min: 1
        - protocol: icmp
          ethertype: IPv6
          remote_ip_prefix: ::/0
          direction: egress
        - protocol: tcp
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          port_range_max: 65535
          direction: ingress
          port_range_min: 1
        - protocol: udp
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          port_range_max: 65535
          direction: ingress
          port_range_min: 1
        - protocol: '47'
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          port_range_max: 65535
          direction: ingress
          port_range_min: 1
        - protocol: icmp
          ethertype: IPv4
          remote_ip_prefix: 0.0.0.0/0
          direction: ingress
        - protocol: tcp
          ethertype: IPv6
          remote_ip_prefix: ::/0
          port_range_max: 65535
          direction: ingress
          port_range_min: 1
        - protocol: udp
          ethertype: IPv6
          remote_ip_prefix: ::/0
          port_range_max: 65535
          direction: ingress
          port_range_min: 1
        - protocol: '47'
          ethertype: IPv6
          remote_ip_prefix: ::/0
          port_range_max: 65535
          direction: ingress
          port_range_min: 1
        - protocol: icmp
          ethertype: IPv6
          remote_ip_prefix: ::/0
          direction: ingress
      requirements:
      - port:
          capability: attachment_vson_server_oam_net_port_20
          node: vson_clm_0
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_00
          node: vson_dcl_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_00
          node: vson_dbs_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_00
          node: vson_dbg_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_20
          node: vson_clm_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_10
          node: vson_mdr_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_00
          node: vson_cll_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_0
          node: vson_app_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_00
          node: vson_dbc_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_10
          node: vson_mon_group
          relationship: org.openecomp.relationships.AttachesTo
      - port:
          capability: attachment_vson_server_oam_net_port_10
          node: vson_mgt_group
          relationship: org.openecomp.relationships.AttachesTo
    vson_dbg_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_dbg_volume_size_0) * 1024'
        name:
          get_input: vson_dbg_volume_name_0
        description: vSON DB Global cinder volume.
    vson_dbg_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_1
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        port_vson_server_oam_net_port_00_network_role_tag: oam
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        port_vson_server_oam_net_port_00_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_with_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_dbg_image_name
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_dbg_oam_net_ip_0
        vfc_role: dbg
        swift_account_auth_token:
          get_input: swift_account_auth_token
        port_vson_server_oam_net_port_00_mac_requirements:
          mac_count_required:
            is_required: false
        vson_server_group_id:
          get_input: vson_dbg_server_group_id
        vson_vm_flavor_name:
          get_input: vson_dbg_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_dbg_volume_id_0
        ntp_servers:
          get_input: ntp_servers
        vson_join_cluster_auth_token:
          get_input: vson_join_cluster_auth_token
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_dbg_name_0
    vson_cll_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_1
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        port_vson_server_oam_net_port_00_network_role_tag: oam
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        port_vson_server_oam_net_port_00_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_with_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_cll_image_name
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_cll_oam_net_ip_0
        - get_input: vson_cll_oam_net_ip_1
        - get_input: vson_cll_oam_net_ip_2
        vfc_role: cll
        swift_account_auth_token:
          get_input: swift_account_auth_token
        port_vson_server_oam_net_port_00_mac_requirements:
          mac_count_required:
            is_required: false
        vson_server_group_id:
          get_input: vson_leader_server_group_id
        vson_vm_flavor_name:
          get_input: vson_cll_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        - get_input: availability_zone_1
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_cll_volume_id_0
        - get_input: vson_cll_volume_id_1
        - get_input: vson_cll_volume_id_2
        ntp_servers:
          get_input: ntp_servers
        vson_join_cluster_auth_token: ''
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_cll_name_0
        - get_input: vson_cll_name_1
        - get_input: vson_cll_name_2
    vson_app_volume_0:
      type: org.openecomp.resource.vfc.nodes.heat.cinder.Volume
      properties:
        availability_zone:
          get_input: availability_zone_0
        metadata:
          vnf_name:
            get_input: vnf_name
          vf_module_name:
            get_input: vf_module_name
        size: '(get_input : vson_app_volume_size_0) * 1024'
        name:
          get_input: vson_app_volume_name_0
        description: vSON APP cinder volume.
    vson_mon_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_2
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_from_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_mon_oam_net_ip_0
        vfc_role: mon
        swift_account_auth_token:
          get_input: swift_account_auth_token
        vson_server_group_id:
          get_input: vson_mon_server_group_id
        vson_vm_flavor_name:
          get_input: vson_mon_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_mon_volume_id_0
        port_vson_server_oam_net_port_10_network_role_tag: oam
        ntp_servers:
          get_input: ntp_servers
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_mon_name_0
        port_vson_server_oam_net_port_10_mac_requirements:
          mac_count_required:
            is_required: false
        port_vson_server_oam_net_port_10_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
    vson_dcl_group:
      type: org.openecomp.resource.abstract.nodes.heat.vson_vm_1
      directives:
      - substitutable
      properties:
        vf_module_id:
          get_input: vf_module_id
        default_gateway:
          get_input: default_gateway
        port_vson_server_oam_net_port_00_network_role_tag: oam
        instance_index:
          get_property:
          - SELF
          - service_template_filter
          - index_value
        vnf_name:
          get_input: vnf_name
        oam_net_subnet_prefix_length:
          get_input: oam_net_subnet_prefix_length
        port_vson_server_oam_net_port_00_ip_requirements:
        - ip_version: 4
          ip_count_required:
            is_required: true
          floating_ip_count_required:
            is_required: false
        vf_module_name:
          get_input: vf_module_name
        dns_servers:
          get_input: dns_servers
        oam_net_security_group_id:
          get_input: oam_net_security_group_id
        service_template_filter:
          substitute_service_template: nested_vson_server_with_volServiceTemplate.yaml
          count:
            get_input: number_of_servers
          mandatory: false
        vson_vm_image_name:
          get_input: vson_dcl_image_name
        vnf_id:
          get_input: vnf_id
        vson_clm_oam_net_ip:
          get_input: vson_clm_0_oam_net_ip_0
        vson_dc_unit:
          get_input: vson_dc_unit
        oam_net_ips:
        - get_input: vson_dcl_oam_net_ip_0
        - get_input: vson_dcl_oam_net_ip_1
        - get_input: vson_dcl_oam_net_ip_2
        vfc_role: dcl
        swift_account_auth_token:
          get_input: swift_account_auth_token
        port_vson_server_oam_net_port_00_mac_requirements:
          mac_count_required:
            is_required: false
        vson_server_group_id:
          get_input: vson_leader_server_group_id
        vson_vm_flavor_name:
          get_input: vson_dcl_flavor_name
        availability_zones:
        - get_input: availability_zone_0
        - get_input: availability_zone_1
        - get_input: availability_zone_0
        volume_ids:
        - get_input: vson_dcl_volume_id_0
        - get_input: vson_dcl_volume_id_1
        - get_input: vson_dcl_volume_id_2
        ntp_servers:
          get_input: ntp_servers
        vson_join_cluster_auth_token:
          get_input: vson_join_cluster_auth_token
        oam_net_id:
          get_input: oam_net_id
        vson_vm_names:
        - get_input: vson_dcl_name_0
        - get_input: vson_dcl_name_1
        - get_input: vson_dcl_name_2
  groups:
    module_5_vson_dbg_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_5_vson_dbg_volume.yaml
        description: |
          Creates a Cinder volume. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volumes for vSON DB Global servers (Virtual Function Component DBG).
      members:
      - vson_dbg_volume_0
    module_7_vson_app_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_7_vson_app.yaml
        description: The template deploys vSON VFC of type APP.
      members:
      - vson_app_group
    module_2_vson_mdr_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_2_vson_mdr_volume.yaml
        description: |
          Create a Cinder volume. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volume for vSON Mediator server (Virtual Function Component MDR).
      members:
      - vson_mdr_volume_0
    module_3_vson_cll_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_3_vson_cll.yaml
        description: |
          The template deploys three instances of vSON Cluster leaders, instantiates cluster and the first Datacenter.
      members:
      - vson_cll_group
    module_6_vson_dbs_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_6_vson_dbs_volume.yaml
        description: "Creates Cinder volumes. Cinder volume is a storage in the form\
          \ of block devices.  It can be used, for example, for providing storage\
          \ to instance.  Volume supports creation from snapshot, backup or image.\
          \  Also volume can be created only by size. The template creates volumes\
          \ for vSON Database servers configured for sharding (Virtual Function Component\
          \ DBS). The shard consists of two Database instances: - Primary  - Secondary\
          \ \n"
      members:
      - vson_dbs_volume_1
      - vson_dbs_volume_0
    module_0_vson_mgt_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_0_vson_mgt.yaml
        description: The template deploys vSON VFC of type MGT.
      members:
      - vson_mgt_group
    module_1_vson_mon_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_1_vson_mon_volume.yaml
        description: |
          Create a Cinder volume. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volume for vSON Monitor and KPIs routing server (Virtual Function Component MON).
      members:
      - vson_mon_volume_0
    module_2_vson_mdr_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_2_vson_mdr.yaml
        description: The template deploys vSON VFC of type Mediator (MDR).
      members:
      - vson_mdr_group
    module_0_vson_mgt_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_0_vson_mgt_volume.yaml
        description: |
          Create a Cinder volume. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volume for vSON Management server (Virtual Function Component MGT).
      members:
      - vson_mgt_volume_0
    module_8_vson_dcl_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_8_vson_dcl_volume.yaml
        description: |
          Creates Cinder volumes. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volumes for vSON DC leaders (Virtual Function Component DCL).
      members:
      - vson_dcl_volume_2
      - vson_dcl_volume_0
      - vson_dcl_volume_1
    module_7_vson_app_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_7_vson_app_volume.yaml
        description: |
          Creates a Cinder volume. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volume for vSON APP server (Virtual Function Component APP).
      members:
      - vson_app_volume_0
    module_4_vson_dbc_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_4_vson_dbc.yaml
        description: The template deploys vSON VFC of type Database Config (DBC).
      members:
      - vson_dbc_group
    module_3_vson_cll_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_3_vson_cll_volume.yaml
        description: |
          Creates Cinder volumes. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volumes for the vSON Cluster leaders (Virtual Function Component CLL).
      members:
      - vson_cll_volume_2
      - vson_cll_volume_0
      - vson_cll_volume_1
    module_8_vson_dcl_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_8_vson_dcl.yaml
        description: The template deploys vSON Datacenter.
      members:
      - vson_dcl_group
    module_9_vson_clm_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_9_vson_clm.yaml
        description: The template deploys vSON VFC of type CLM.
      members:
      - vson_clm_group
    module_4_vson_dbc_volume_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_4_vson_dbc_volume.yaml
        description: |
          Creates a Cinder volume. Cinder volume is a storage in the form of block devices.  It can be used, for example, for providing storage to instance.  Volume supports creation from snapshot, backup or image.  Also volume can be created only by size. The template creates volume for vSON DB Config servers (Virtual Function Component DBC).
      members:
      - vson_dbc_volume_0
    base_vson_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/base_vson.yaml
        description: |
          Creates essential resources: vSON internal network, Security Groups and vSON Cluster Manager instance. Deploys and configure appropriate software on the Cluster Management server. Exposes shared resource as outputs that could be used by add-on templates.
      members:
      - oam_net_security_group
      - vson_clm_0
    module_6_vson_dbs_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_6_vson_dbs.yaml
        description: "The template deploys vSON VFC of type Database Shard (DBS) VM\
          \ instances: Primary and Secondary. \n"
      members:
      - vson_dbs_group
    module_5_vson_dbg_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_5_vson_dbg.yaml
        description: The template deploys vSON VFC of type Database Global (DBG).
      members:
      - vson_dbg_group
    module_1_vson_mon_group:
      type: org.openecomp.groups.heat.HeatStack
      properties:
        heat_file: ../Artifacts/module_1_vson_mon.yaml
        description: The template deploys vSON VFC of type MON.
      members:
      - vson_mon_group
  outputs:
    vson_dbg_volume_id_0:
      description: vSON DB Global volume ID.
      value: vson_dbg_volume_0
    vson_dbs_server_group_id:
      description: ID of the Server Group intended for vSON DBS instances.
      value: UNSUPPORTED_RESOURCE_vson_dbs_server_group
    vson_mdr_volume_id_0:
      description: Volume ID.
      value: vson_mdr_volume_0
    vson_mgt_volume_id_0:
      description: ID of the vSON Management volume.
      value: vson_mgt_volume_0
    vson_mgt_server_group_id:
      description: ID of the Server Group intended for vSON Management instances.
      value: UNSUPPORTED_RESOURCE_vson_mgt_server_group
    vson_cll_volume_id_0:
      description: First vSON Cluster leader volume ID.
      value: vson_cll_volume_0
    vson_cll_volume_id_1:
      description: Second vSON Cluster leader volume ID.
      value: vson_cll_volume_1
    vson_cll_volume_id_2:
      description: Third vSON Cluster leader volume ID.
      value: vson_cll_volume_2
    vson_dbg_server_group_id:
      description: ID of the Server Group intended for vSON DBG instances.
      value: UNSUPPORTED_RESOURCE_vson_dbg_server_group
    vson_leader_server_group_id:
      description: ID of the Server Group intended for vSON Cluster/DC leaders.
      value: UNSUPPORTED_RESOURCE_vson_leader_server_group
    vson_clm_0_oam_net_ip_0:
      description: vSON Cluster Management server IP on the OAM network.
      value:
        get_input: vson_clm_oam_net_ip_0
    vson_clm_server_group_id:
      description: ID of the Server Group intended for vSON Cluster Management instances.
      value: UNSUPPORTED_RESOURCE_vson_clm_server_group
    vson_mdr_server_group_id:
      description: ID of the Server Group intended for vSON Mediator instances.
      value: UNSUPPORTED_RESOURCE_vson_mdr_server_group
    vson_dbc_server_group_id:
      description: ID of the Server Group intended for vSON DBC instances.
      value: UNSUPPORTED_RESOURCE_vson_dbc_server_group
    vson_app_server_group_id:
      description: ID of the Server Group intended for vSON Application instances.
      value: UNSUPPORTED_RESOURCE_vson_app_server_group
    vson_mon_volume_id_0:
      description: ID of the vSON Monitor and KPIs routing volume.
      value: vson_mon_volume_0
    vson_app_volume_id_0:
      description: vSON APP volume ID.
      value: vson_app_volume_0
    vson_dcl_volume_id_2:
      description: ID of the third vSON DC leader volume.
      value: vson_dcl_volume_2
    vson_dcl_volume_id_1:
      description: ID of the second vSON DC leader volume.
      value: vson_dcl_volume_1
    vson_dbs_volume_id_0:
      description: ID of the first vSON DBS volume.
      value: vson_dbs_volume_0
    vson_dbc_volume_id_0:
      description: vSON DB Config volume ID.
      value: vson_dbc_volume_0
    vson_dcl_volume_id_0:
      description: ID of the first vSON DC leader volume.
      value: vson_dcl_volume_0
    vson_dbs_volume_id_1:
      description: ID of the second vSON DBS volume.
      value: vson_dbs_volume_1
    vson_mon_server_group_id:
      description: ID of the Server Group intended for vSON MON instances.
      value: UNSUPPORTED_RESOURCE_vson_mon_server_group